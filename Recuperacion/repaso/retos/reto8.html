<html>
  <head>
    <title>retos JavaScript</title>
  </head>
  <body>
    <h1>retos JavaScript</h1>
    <ul id="carrakos"> </ul>

    <script>

var carrakos = ["Chevrolet", "Tesla", "BMW",["Honda", "Infiniti",["Lexus", "Mercedes", "Kia"], "Hyunday"],["Mazda", "Mercedes", "Jeep",["KTM", "Nissan", "Isuzu"]]];

let obj = document.getElementById('carrakos'); // Mueve esta lÃ­nea fuera del bucle para seleccionar el elemento solo una vez

carrakos.map(v => {
  let li = document.createElement('li');
  
  if (Array.isArray(v)) {
    let ul = document.createElement('ul');
    v.map(t => { 
      let li2 = document.createElement('li'); 
      if (Array.isArray(t)) {
        let ul2 = document.createElement('ul');
        t.map(i => {
          let li3 = document.createElement('li');
          li3.textContent = i;
          ul2.appendChild(li3);
        });
        li2.appendChild(ul2); 
      } else {
        li2.textContent = t;
      }
      ul.appendChild(li2);
    });
    obj.appendChild(ul);
  } else {
    li.textContent = v;
    obj.appendChild(li);
  }
});





/*let obj = document.getElementById("carrakos");
let visualiza = (arr,obj)=>{
    arr.map(e=>{
        if (Array.isArray(e)){
            let newobj = document.createElement("ul");
            obj.appendChild(newobj)
            visualiza(e,newobj)
        }else{
            let nodoCoche = document.createElement("li");
            let texto = document.createTextNode(e);
            nodoCoche.appendChild(texto);
            obj.appendChild(nodoCoche);
        }
    })
}
visualiza(carrakos,obj);*/


    </script>
  </body>
</html>